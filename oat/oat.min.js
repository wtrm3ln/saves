class OtBase extends HTMLElement{#t=!1;connectedCallback(){this.#t||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.#e(),{once:!0}):this.#e())}#e(){this.#t||(this.#t=!0,this.init())}init(){}disconnectedCallback(){this.cleanup()}cleanup(){}handleEvent(t){const e=this[`on${t.type}`];e&&e.call(this,t)}emit(t,e=null){return this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:e}))}getBool(t){return this.hasAttribute(t)}setBool(t,e){e?this.setAttribute(t,""):this.removeAttribute(t)}$(t){return this.querySelector(t)}$$(t){return Array.from(this.querySelectorAll(t))}uid(){return Math.random().toString(36).slice(2,10)}}typeof window<"u"&&(window.OtBase=OtBase),"commandForElement"in HTMLButtonElement.prototype||document.addEventListener("click",n=>{const t=n.target.closest("[commandfor]");if(!t)return;const e=document.getElementById(t.getAttribute("commandfor"));if(!e)return;const i=t.getAttribute("command")||"toggle";e instanceof HTMLDialogElement&&(i==="show-modal"?e.showModal():i==="close"||e.open?e.close():e.showModal())});class OtTabs extends OtBase{#t=[];#e=[];init(){const t=this.$(':scope > [role="tablist"]');if(this.#t=t?[...t.querySelectorAll('[role="tab"]')]:[],this.#e=this.$$(':scope > [role="tabpanel"]'),this.#t.length===0||this.#e.length===0){console.warn("ot-tabs: Missing tab or tabpanel elements");return}this.#t.forEach((i,o)=>{const s=this.#e[o];if(!s)return;const r=i.id||`ot-tab-${this.uid()}`,a=s.id||`ot-panel-${this.uid()}`;i.id=r,s.id=a,i.setAttribute("aria-controls",a),s.setAttribute("aria-labelledby",r),i.addEventListener("click",this),i.addEventListener("keydown",this)});const e=this.#t.findIndex(i=>i.ariaSelected==="true");this.#n(e>=0?e:0)}onclick(t){const e=this.#t.indexOf(t.target.closest('[role="tab"]'));e>=0&&this.#n(e)}onkeydown(t){const{key:e}=t,i=this.activeIndex;let o=i;switch(e){case"ArrowLeft":t.preventDefault(),o=i-1,o<0&&(o=this.#t.length-1);break;case"ArrowRight":t.preventDefault(),o=(i+1)%this.#t.length;break;default:return}this.#n(o),this.#t[o].focus()}#n(t){this.#t.forEach((e,i)=>{const o=i===t;e.ariaSelected=String(o),e.tabIndex=o?0:-1}),this.#e.forEach((e,i)=>{e.hidden=i!==t}),this.emit("ot-tab-change",{index:t,tab:this.#t[t]})}get activeIndex(){return this.#t.findIndex(t=>t.ariaSelected==="true")}set activeIndex(t){t>=0&&t<this.#t.length&&this.#n(t)}}customElements.define("ot-tabs",OtTabs);class OtDropdown extends OtBase{#t;#e;#n;init(){this.#t=this.$("[popover]"),this.#e=this.$("[popovertarget]"),!(!this.#t||!this.#e)&&(this.#t.addEventListener("toggle",this),this.#t.addEventListener("keydown",this),this.#n=()=>{const t=this.#e.getBoundingClientRect();this.#t.style.top=`${t.bottom}px`,this.#t.style.left=`${t.left}px`})}ontoggle(t){t.newState==="open"?(this.#n(),window.addEventListener("scroll",this.#n,!0),this.$('[role="menuitem"]')?.focus(),this.#e.ariaExpanded="true"):(window.removeEventListener("scroll",this.#n,!0),this.#e.ariaExpanded="false",this.#e.focus())}onkeydown(t){if(!t.target.matches('[role="menuitem"]'))return;const e=this.$$('[role="menuitem"]'),i=e.indexOf(t.target);switch(t.key){case"ArrowDown":t.preventDefault(),e[(i+1)%e.length]?.focus();break;case"ArrowUp":t.preventDefault(),e[i-1<0?e.length-1:i-1]?.focus();break}}cleanup(){window.removeEventListener("scroll",this.#n,!0)}}customElements.define("ot-dropdown",OtDropdown);const ot=window.ot||(window.ot={}),containers={},DEFAULT_DURATION=4e3,DEFAULT_PLACEMENT="top-right";function getContainer(n){if(!containers[n]){const t=document.createElement("div");t.className="toast-container",t.setAttribute("popover","manual"),t.setAttribute("data-placement",n),document.body.appendChild(t),containers[n]=t}return containers[n]}function show(n,t={}){const{placement:e=DEFAULT_PLACEMENT,duration:i=DEFAULT_DURATION}=t,o=getContainer(e);n.classList.add("toast");let s;return n.onmouseenter=()=>clearTimeout(s),n.onmouseleave=()=>{i>0&&(s=setTimeout(()=>removeToast(n,o),i))},n.setAttribute("data-entering",""),o.appendChild(n),o.showPopover(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.removeAttribute("data-entering")})}),i>0&&(s=setTimeout(()=>removeToast(n,o),i)),n}ot.toast=function(n,t,e={}){const{variant:i="info",...o}=e,s=document.createElement("output");if(s.setAttribute("data-variant",i),t){const r=document.createElement("h6");r.className="toast-title",r.style.color=`var(--${i})`,r.textContent=t,s.appendChild(r)}if(n){const r=document.createElement("div");r.className="toast-message",r.textContent=n,s.appendChild(r)}return show(s,o)},ot.toastEl=function(n,t={}){let e;return n instanceof HTMLTemplateElement?e=n.content.firstElementChild.cloneNode(!0):typeof n=="string"?e=document.querySelector(n).cloneNode(!0):e=n.cloneNode(!0),e.removeAttribute("id"),show(e,t)};function removeToast(n,t){if(n.hasAttribute("data-exiting"))return;n.setAttribute("data-exiting","");const e=()=>{n.remove(),t.children.length||t.hidePopover()};n.addEventListener("transitionend",e,{once:!0}),setTimeout(e,200)}ot.toast.clear=function(n){n&&containers[n]?(containers[n].innerHTML="",containers[n].hidePopover()):Object.values(containers).forEach(t=>{t.innerHTML="",t.hidePopover()})},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[title]").forEach(n=>{const t=n.getAttribute("title");t&&(n.setAttribute("data-tooltip",t),n.hasAttribute("aria-label")||n.setAttribute("aria-label",t),n.removeAttribute("title"))})}),document.addEventListener("click",n=>{const t=n.target.closest("[data-sidebar-toggle]");t&&t.closest("[data-sidebar-layout]")?.toggleAttribute("data-sidebar-open")});
